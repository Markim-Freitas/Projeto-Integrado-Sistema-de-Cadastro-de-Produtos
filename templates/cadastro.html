<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Produtos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <h1>Cadastro de Produtos</h1>
    <!-- Formulário de cadastro de produto -->
    <form action="/cadastrar" method="POST">
        <label for="codigo_barras">Código de Barras:</label>
        <input type="text" id="codigo_barras" name="codigo_barras" required><br><br>

        <label for="nome">Nome do Produto:</label>
        <input type="text" id="nome" name="nome" required><br><br>

        <label for="categoria">Categoria:</label>
        <input type="text" id="categoria" name="categoria" required><br><br>

        <label for="quantidade">Quantidade em Estoque:</label>
        <input type="number" id="quantidade" name="quantidade" required><br><br>

        <label for="preco">Preço:</label>
        <input type="text" id="preco" name="preco" required><br><br>

        <label for="localizacao">Localização no Depósito:</label>
        <input type="text" id="localizacao" name="localizacao" required><br><br>

        <label for="validade">Data de Validade (Opcional):</label>
        <input type="date" id="validade" name="validade"><br><br>

        <button type="submit">Cadastrar Produto</button>
    </form>

    <h2>Atualizar Estoque</h2>
    <!-- Formulário para atualizar o estoque (receber novos itens) -->
    <form action="/atualizar_estoque" method="POST">
        <label for="codigo_barras_atualizar">Código de Barras do Produto:</label>
        <input type="text" id="codigo_barras_atualizar" name="codigo_barras" required><br><br>

        <label for="quantidade_recebida">Quantidade a Adicionar:</label>
        <input type="number" id="quantidade_recebida" name="quantidade" required><br><br>

        <button type="submit">Atualizar Estoque</button>
    </form>

    <h2>Vender Produtos</h2>
    <!-- Formulário para registrar venda de produtos -->
    <form action="/vender_produto" method="POST">
        <label for="codigo_barras_vender">Código de Barras do Produto:</label>
        <input type="text" id="codigo_barras_vender" name="codigo_barras" required><br><br>

        <label for="quantidade_venda">Quantidade a Vender:</label>
        <input type="number" id="quantidade_venda" name="quantidade" required><br><br>

        <button type="submit">Vender Produto</button>
    </form>

    <h2>Atualizar Localização de Produto</h2>
    <!-- Formulário para atualizar a localização de um produto -->
    <form action="/atualizar_localizacao" method="POST">
        <label for="codigo_barras_localizacao">Código de Barras do Produto:</label>
        <input type="text" id="codigo_barras_localizacao" name="codigo_barras" required><br><br>

        <label for="setor">Setor:</label>
        <input type="text" id="setor" name="setor" required><br><br>

        <label for="corredor">Corredor:</label>
        <input type="text" id="corredor" name="corredor" required><br><br>

        <label for="prateleira">Prateleira:</label>
        <input type="text" id="prateleira" name="prateleira" required><br><br>

        <button type="submit">Atualizar Localização</button>
    </form>

    <h2>Relatórios</h2>
    <!-- Botão para gerar relatório de estoque -->
    <form action="/gerar_relatorio" method="GET">
        <button type="submit">Gerar Relatório de Estoque</button>
    </form>

    <h2>Lista de Produtos</h2>
    <<ul>
        {% for produto in produtos %}
        <li>{{ produto.nome }} - {{ produto.categoria }} - R$ {{ produto.preco }} - Estoque: {{ produto.quantidade
            }}<br>
            Localização: Setor {{ produto.localizacao.setor }}, Corredor {{ produto.localizacao.corredor }}, Prateleira
            {{ produto.localizacao.prateleira }} - Código: {{ produto.codigo_barras }}<br>
            Validade: {% if produto.validade %} {{ produto.validade }} {% else %} Não se aplica {% endif %}
        </li>
        {% endfor %}
        </ul>
</body>

</html>